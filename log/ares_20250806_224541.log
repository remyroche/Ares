2025-08-06 22:45:41,034 - AresTradingSystem - INFO - ✅ Enhanced Logger initialization completed successfully
2025-08-06 22:45:41,046 - AresTradingSystem.System - INFO - Environment configuration loaded successfully. Trading Environment: PAPER, Exchange: BINANCE
2025-08-06 22:45:41,563 - AresTradingSystem - INFO - ✅ Enhanced Logger initialization completed successfully
2025-08-06 22:45:41,563 - AresTradingSystem.System.OptimizedDataDownloader - INFO - 🚀 STARTING OPTIMIZED DATA DOWNLOAD PROCESS
2025-08-06 22:45:41,563 - AresTradingSystem.System.OptimizedDataDownloader - INFO - 📊 Configuration: BINANCE ETHUSDT 1m
2025-08-06 22:45:41,563 - AresTradingSystem.System.OptimizedDataDownloader - INFO - 🔧 STEP 1: Initializing optimized downloader...
2025-08-06 22:45:41,563 - AresTradingSystem.System.OptimizedDataDownloader - INFO - 📊 Configuration: exchange=BINANCE, symbol=ETHUSDT, interval=1m, lookback_years=1
2025-08-06 22:45:41,563 - AresTradingSystem.System.OptimizedDataDownloader - INFO - 🔌 Creating exchange client...
2025-08-06 22:45:41,563 - AresTradingSystem.System.OptimizedDataDownloader - INFO - ✅ Exchange client created: BinanceExchange
2025-08-06 22:45:41,563 - AresTradingSystem.System.OptimizedDataDownloader - INFO - 🌐 Setting up HTTP session...
2025-08-06 22:45:41,564 - AresTradingSystem.System.OptimizedDataDownloader - INFO - ✅ HTTP session configured
2025-08-06 22:45:41,564 - AresTradingSystem.System.OptimizedDataDownloader - INFO - 📁 Ensuring cache directory exists...
2025-08-06 22:45:41,564 - AresTradingSystem.System.OptimizedDataDownloader - INFO - ✅ Cache directory ready: data_cache
2025-08-06 22:45:41,564 - AresTradingSystem.System.OptimizedDataDownloader - INFO - ✅ STEP 1 COMPLETED: Optimized downloader initialized successfully
2025-08-06 22:45:41,564 - AresTradingSystem.System.OptimizedDataDownloader - INFO - 🔄 STEP 4: Starting parallel downloads for all data types...
2025-08-06 22:45:41,565 - AresTradingSystem.System.OptimizedDataDownloader - INFO - 📋 Created 3 parallel download tasks
2025-08-06 22:45:41,565 - AresTradingSystem.System.OptimizedDataDownloader - INFO - ⏳ Executing all tasks concurrently...
2025-08-06 22:45:41,565 - AresTradingSystem.System.OptimizedDataDownloader - INFO - 🚀 STEP 3: Starting parallel klines download...
2025-08-06 22:45:41,565 - AresTradingSystem.System.OptimizedDataDownloader - INFO - 📅 STEP 2: Calculating time periods for klines...
2025-08-06 22:45:41,565 - AresTradingSystem.System.OptimizedDataDownloader - INFO - 📊 Date range: 2024-08-06 to 2025-08-06
2025-08-06 22:45:41,565 - AresTradingSystem.System.OptimizedDataDownloader - INFO - 📊 Total days: 365
2025-08-06 22:45:41,565 - AresTradingSystem.System.OptimizedDataDownloader - INFO - 📈 Processing klines (monthly periods)...
2025-08-06 22:45:41,565 - AresTradingSystem.System.OptimizedDataDownloader - INFO - 📁 Skipping: klines_BINANCE_ETHUSDT_1m_2024-08.csv (existing old month (370 days ago))
2025-08-06 22:45:41,565 - AresTradingSystem.System.OptimizedDataDownloader - INFO - 📁 Skipping: klines_BINANCE_ETHUSDT_1m_2024-09.csv (existing old month (339 days ago))
2025-08-06 22:45:41,565 - AresTradingSystem.System.OptimizedDataDownloader - INFO - 📁 Skipping: klines_BINANCE_ETHUSDT_1m_2024-10.csv (existing old month (309 days ago))
2025-08-06 22:45:41,565 - AresTradingSystem.System.OptimizedDataDownloader - INFO - 📁 Skipping: klines_BINANCE_ETHUSDT_1m_2024-11.csv (existing old month (278 days ago))
2025-08-06 22:45:41,565 - AresTradingSystem.System.OptimizedDataDownloader - INFO - 📁 Skipping: klines_BINANCE_ETHUSDT_1m_2024-12.csv (existing old month (248 days ago))
2025-08-06 22:45:41,565 - AresTradingSystem.System.OptimizedDataDownloader - INFO - 📁 Skipping: klines_BINANCE_ETHUSDT_1m_2025-01.csv (existing old month (217 days ago))
2025-08-06 22:45:41,565 - AresTradingSystem.System.OptimizedDataDownloader - INFO - 📁 Skipping: klines_BINANCE_ETHUSDT_1m_2025-02.csv (existing old month (186 days ago))
2025-08-06 22:45:41,566 - AresTradingSystem.System.OptimizedDataDownloader - INFO - 📁 Skipping: klines_BINANCE_ETHUSDT_1m_2025-03.csv (existing old month (158 days ago))
2025-08-06 22:45:41,566 - AresTradingSystem.System.OptimizedDataDownloader - INFO - 📁 Skipping: klines_BINANCE_ETHUSDT_1m_2025-04.csv (existing old month (127 days ago))
2025-08-06 22:45:41,566 - AresTradingSystem.System.OptimizedDataDownloader - INFO - 📁 Skipping: klines_BINANCE_ETHUSDT_1m_2025-05.csv (existing old month (97 days ago))
2025-08-06 22:45:41,566 - AresTradingSystem.System.OptimizedDataDownloader - INFO - 📁 Skipping: klines_BINANCE_ETHUSDT_1m_2025-06.csv (existing old month (66 days ago))
2025-08-06 22:45:41,566 - AresTradingSystem.System.OptimizedDataDownloader - INFO - 📁 Skipping: klines_BINANCE_ETHUSDT_1m_2025-07.csv (existing old month (36 days ago))
2025-08-06 22:45:41,566 - AresTradingSystem.System.OptimizedDataDownloader - INFO - 📥 Will download: klines_BINANCE_ETHUSDT_1m_2025-08.csv (updating current month)
2025-08-06 22:45:41,566 - AresTradingSystem.System.OptimizedDataDownloader - INFO - 📊 Summary: 1 months to download, 12 months skipped
2025-08-06 22:45:41,566 - AresTradingSystem.System.OptimizedDataDownloader - INFO - 📊 Found 1 monthly periods to download
2025-08-06 22:45:41,566 - AresTradingSystem.System.OptimizedDataDownloader - INFO - 🔄 Creating 1 parallel download tasks...
2025-08-06 22:45:41,566 - AresTradingSystem.System.OptimizedDataDownloader - INFO - 📋 Task 1: 2025-08 to 2025-08
2025-08-06 22:45:41,566 - AresTradingSystem.System.OptimizedDataDownloader - INFO - ⏳ Executing 1 tasks concurrently...
2025-08-06 22:45:41,566 - AresTradingSystem.System.OptimizedDataDownloader - INFO - 🚀 STEP 3B: Starting parallel aggtrades download...
2025-08-06 22:45:41,566 - AresTradingSystem.System.OptimizedDataDownloader - INFO - 📅 STEP 2: Calculating time periods for aggtrades...
2025-08-06 22:45:41,566 - AresTradingSystem.System.OptimizedDataDownloader - INFO - 📊 Date range: 2024-08-06 to 2025-08-06
2025-08-06 22:45:41,566 - AresTradingSystem.System.OptimizedDataDownloader - INFO - 📊 Total days: 365
2025-08-06 22:45:41,567 - AresTradingSystem.System.OptimizedDataDownloader - INFO - 📊 Processing aggtrades (daily periods)...
2025-08-06 22:45:41,567 - AresTradingSystem.System.OptimizedDataDownloader - INFO - 📁 Skipping: aggtrades_BINANCE_ETHUSDT_2024-08-06.csv (existing old data (365 days old))
2025-08-06 22:45:41,567 - AresTradingSystem.System.OptimizedDataDownloader - INFO - 📁 Skipping: aggtrades_BINANCE_ETHUSDT_2024-08-07.csv (existing old data (364 days old))
2025-08-06 22:45:41,567 - AresTradingSystem.System.OptimizedDataDownloader - INFO - 📁 Skipping: aggtrades_BINANCE_ETHUSDT_2024-08-08.csv (existing old data (363 days old))
2025-08-06 22:45:41,567 - AresTradingSystem.System.OptimizedDataDownloader - INFO - 📁 Skipping: aggtrades_BINANCE_ETHUSDT_2024-08-09.csv (existing old data (362 days old))
2025-08-06 22:45:41,568 - AresTradingSystem.System.OptimizedDataDownloader - INFO - 📁 Skipping: aggtrades_BINANCE_ETHUSDT_2024-08-10.csv (existing old data (361 days old))
2025-08-06 22:45:41,572 - AresTradingSystem.System.OptimizedDataDownloader - INFO - 📁 Skipping: aggtrades_BINANCE_ETHUSDT_2024-09-24.csv (existing old data (316 days old))
2025-08-06 22:45:41,576 - AresTradingSystem.System.OptimizedDataDownloader - INFO - 📁 Skipping: aggtrades_BINANCE_ETHUSDT_2024-11-13.csv (existing old data (266 days old))
2025-08-06 22:45:41,580 - AresTradingSystem.System.OptimizedDataDownloader - INFO - 📁 Skipping: aggtrades_BINANCE_ETHUSDT_2025-01-02.csv (existing old data (216 days old))
2025-08-06 22:45:41,583 - AresTradingSystem.System.OptimizedDataDownloader - INFO - 📁 Skipping: aggtrades_BINANCE_ETHUSDT_2025-02-21.csv (existing old data (166 days old))
2025-08-06 22:45:41,588 - AresTradingSystem.System.OptimizedDataDownloader - INFO - 📁 Skipping: aggtrades_BINANCE_ETHUSDT_2025-04-12.csv (existing old data (116 days old))
2025-08-06 22:45:41,591 - AresTradingSystem.System.OptimizedDataDownloader - INFO - 📁 Skipping: aggtrades_BINANCE_ETHUSDT_2025-06-01.csv (existing old data (66 days old))
2025-08-06 22:45:41,594 - AresTradingSystem.System.OptimizedDataDownloader - INFO - 📁 Skipping: aggtrades_BINANCE_ETHUSDT_2025-07-21.csv (existing old data (16 days old))
2025-08-06 22:45:41,595 - AresTradingSystem.System.OptimizedDataDownloader - INFO - 📥 Will download: aggtrades_BINANCE_ETHUSDT_2025-07-30.csv (updating recent day (7 days old))
2025-08-06 22:45:41,595 - AresTradingSystem.System.OptimizedDataDownloader - INFO - 📥 Will download: aggtrades_BINANCE_ETHUSDT_2025-07-31.csv (missing)
2025-08-06 22:45:41,595 - AresTradingSystem.System.OptimizedDataDownloader - INFO - 📥 Will download: aggtrades_BINANCE_ETHUSDT_2025-08-01.csv (missing)
2025-08-06 22:45:41,595 - AresTradingSystem.System.OptimizedDataDownloader - INFO - 📥 Will download: aggtrades_BINANCE_ETHUSDT_2025-08-02.csv (missing)
2025-08-06 22:45:41,595 - AresTradingSystem.System.OptimizedDataDownloader - INFO - 📥 Will download: aggtrades_BINANCE_ETHUSDT_2025-08-03.csv (missing)
2025-08-06 22:45:41,595 - AresTradingSystem.System.OptimizedDataDownloader - INFO - 📊 Summary: 8 days to download (1 updates), 358 days skipped
2025-08-06 22:45:41,595 - AresTradingSystem.System.OptimizedDataDownloader - INFO - 📊 Found 8 daily periods to download
2025-08-06 22:45:41,595 - AresTradingSystem.System.OptimizedDataDownloader - INFO - 🔄 Creating 8 parallel download tasks...
2025-08-06 22:45:41,595 - AresTradingSystem.System.OptimizedDataDownloader - INFO - 📋 Task 1: 2025-07-30 to 2025-07-31
2025-08-06 22:45:41,595 - AresTradingSystem.System.OptimizedDataDownloader - INFO - 📋 Task 2: 2025-07-31 to 2025-08-01
2025-08-06 22:45:41,595 - AresTradingSystem.System.OptimizedDataDownloader - INFO - 📋 Task 3: 2025-08-01 to 2025-08-02
2025-08-06 22:45:41,595 - AresTradingSystem.System.OptimizedDataDownloader - INFO - 📋 Task 4: 2025-08-02 to 2025-08-03
2025-08-06 22:45:41,595 - AresTradingSystem.System.OptimizedDataDownloader - INFO - 📋 Task 5: 2025-08-03 to 2025-08-04
2025-08-06 22:45:41,595 - AresTradingSystem.System.OptimizedDataDownloader - INFO - ⏳ Executing 8 tasks concurrently...
2025-08-06 22:45:41,595 - AresTradingSystem.System.OptimizedDataDownloader - INFO - 🚀 STEP 3C: Starting parallel futures download...
2025-08-06 22:45:41,595 - AresTradingSystem.System.OptimizedDataDownloader - INFO - 📅 STEP 2: Calculating time periods for futures...
2025-08-06 22:45:41,595 - AresTradingSystem.System.OptimizedDataDownloader - INFO - 📊 Date range: 2024-08-06 to 2025-08-06
2025-08-06 22:45:41,596 - AresTradingSystem.System.OptimizedDataDownloader - INFO - 📊 Total days: 365
2025-08-06 22:45:41,596 - AresTradingSystem.System.OptimizedDataDownloader - INFO - 📈 Processing futures (monthly periods)...
2025-08-06 22:45:41,596 - AresTradingSystem.System.OptimizedDataDownloader - INFO - 📁 Skipping: futures_BINANCE_ETHUSDT_2024-08.csv (existing old month (370 days ago))
2025-08-06 22:45:41,596 - AresTradingSystem.System.OptimizedDataDownloader - INFO - 📁 Skipping: futures_BINANCE_ETHUSDT_2024-09.csv (existing old month (339 days ago))
2025-08-06 22:45:41,596 - AresTradingSystem.System.OptimizedDataDownloader - INFO - 📁 Skipping: futures_BINANCE_ETHUSDT_2024-10.csv (existing old month (309 days ago))
2025-08-06 22:45:41,596 - AresTradingSystem.System.OptimizedDataDownloader - INFO - 📁 Skipping: futures_BINANCE_ETHUSDT_2024-11.csv (existing old month (278 days ago))
2025-08-06 22:45:41,596 - AresTradingSystem.System.OptimizedDataDownloader - INFO - 📁 Skipping: futures_BINANCE_ETHUSDT_2024-12.csv (existing old month (248 days ago))
2025-08-06 22:45:41,596 - AresTradingSystem.System.OptimizedDataDownloader - INFO - 📁 Skipping: futures_BINANCE_ETHUSDT_2025-01.csv (existing old month (217 days ago))
2025-08-06 22:45:41,596 - AresTradingSystem.System.OptimizedDataDownloader - INFO - 📁 Skipping: futures_BINANCE_ETHUSDT_2025-02.csv (existing old month (186 days ago))
2025-08-06 22:45:41,596 - AresTradingSystem.System.OptimizedDataDownloader - INFO - 📁 Skipping: futures_BINANCE_ETHUSDT_2025-03.csv (existing old month (158 days ago))
2025-08-06 22:45:41,596 - AresTradingSystem.System.OptimizedDataDownloader - INFO - 📁 Skipping: futures_BINANCE_ETHUSDT_2025-04.csv (existing old month (127 days ago))
2025-08-06 22:45:41,596 - AresTradingSystem.System.OptimizedDataDownloader - INFO - 📁 Skipping: futures_BINANCE_ETHUSDT_2025-05.csv (existing old month (97 days ago))
2025-08-06 22:45:41,596 - AresTradingSystem.System.OptimizedDataDownloader - INFO - 📁 Skipping: futures_BINANCE_ETHUSDT_2025-06.csv (existing old month (66 days ago))
2025-08-06 22:45:41,596 - AresTradingSystem.System.OptimizedDataDownloader - INFO - 📁 Skipping: futures_BINANCE_ETHUSDT_2025-07.csv (existing old month (36 days ago))
2025-08-06 22:45:41,596 - AresTradingSystem.System.OptimizedDataDownloader - INFO - 📥 Will download: futures_BINANCE_ETHUSDT_2025-08.csv (updating current month)
2025-08-06 22:45:41,596 - AresTradingSystem.System.OptimizedDataDownloader - INFO - 📊 Summary: 1 months to download (1 updates), 12 months skipped
2025-08-06 22:45:41,596 - AresTradingSystem.System.OptimizedDataDownloader - INFO - 📊 Found 1 daily periods to download
2025-08-06 22:45:41,597 - AresTradingSystem.System.OptimizedDataDownloader - INFO - 🔄 Creating 1 parallel download tasks...
2025-08-06 22:45:41,597 - AresTradingSystem.System.OptimizedDataDownloader - INFO - 📋 Task 1: 2025-08-01 to 2025-08-06
2025-08-06 22:45:41,597 - AresTradingSystem.System.OptimizedDataDownloader - INFO - ⏳ Executing 1 tasks concurrently...
2025-08-06 22:45:41,597 - AresTradingSystem.System.OptimizedDataDownloader - INFO - 📥 Downloading klines for 2025-08
2025-08-06 22:45:41,597 - AresTradingSystem.System.OptimizedDataDownloader - INFO - ⏰ Time range: 2025-08-01 00:00:00 to 2025-08-06 22:45:41.565294
2025-08-06 22:45:41,597 - AresTradingSystem.System.OptimizedDataDownloader - INFO - 🔢 Timestamps: 1753999200000 to 1754513141565
2025-08-06 22:45:41,597 - AresTradingSystem.System.OptimizedDataDownloader - INFO - 🔌 Making API call to BINANCE
2025-08-06 22:45:41,597 - AresTradingSystem.System - INFO - Klines: Adjusted end time to avoid recent data issues: 2025-08-06 22:40:41.597000
2025-08-06 22:45:41,613 - AresTradingSystem.System.OptimizedDataDownloader - INFO - 📥 Downloading aggtrades for 2025-07-30
2025-08-06 22:45:41,613 - AresTradingSystem.System.OptimizedDataDownloader - INFO - ⏰ Time range: 2025-07-30 00:00:00 to 2025-07-31 00:00:00
2025-08-06 22:45:41,613 - AresTradingSystem.System.OptimizedDataDownloader - INFO - 🔢 Timestamps: 1753826400000 to 1753912800000
2025-08-06 22:45:41,613 - AresTradingSystem.System.OptimizedDataDownloader - INFO - 🔌 Making API call to BINANCE
2025-08-06 22:45:41,613 - AresTradingSystem.System.OptimizedDataDownloader - INFO - 🔄 Starting incremental download from 2025-07-30
2025-08-06 22:45:41,613 - AresTradingSystem.System.OptimizedDataDownloader - INFO - 📞 API call #1: fetching from timestamp 1753826400000
2025-08-06 22:45:41,623 - AresTradingSystem.System - INFO - CCXT: Fetching agg trades for ETHUSDT from 2025-07-30 00:00:00 to 2025-07-31 00:00:00
2025-08-06 22:45:41,624 - AresTradingSystem.System - INFO - CCXT: Using limit 1000 (requested: 1000)
2025-08-06 22:45:41,624 - AresTradingSystem.System.OptimizedDataDownloader - INFO - 📥 Downloading aggtrades for 2025-07-31
2025-08-06 22:45:41,624 - AresTradingSystem.System.OptimizedDataDownloader - INFO - ⏰ Time range: 2025-07-31 00:00:00 to 2025-08-01 00:00:00
2025-08-06 22:45:41,624 - AresTradingSystem.System.OptimizedDataDownloader - INFO - 🔢 Timestamps: 1753912800000 to 1753999200000
2025-08-06 22:45:41,624 - AresTradingSystem.System.OptimizedDataDownloader - INFO - 🔌 Making API call to BINANCE
2025-08-06 22:45:41,624 - AresTradingSystem.System.OptimizedDataDownloader - INFO - 🔄 Starting incremental download from 2025-07-31
2025-08-06 22:45:41,624 - AresTradingSystem.System.OptimizedDataDownloader - INFO - 📞 API call #1: fetching from timestamp 1753912800000
2025-08-06 22:45:41,633 - AresTradingSystem.System - INFO - CCXT: Fetching agg trades for ETHUSDT from 2025-07-31 00:00:00 to 2025-08-01 00:00:00
2025-08-06 22:45:41,633 - AresTradingSystem.System - INFO - CCXT: Using limit 1000 (requested: 1000)
2025-08-06 22:45:41,634 - AresTradingSystem.System.OptimizedDataDownloader - INFO - 📥 Downloading aggtrades for 2025-08-01
2025-08-06 22:45:41,634 - AresTradingSystem.System.OptimizedDataDownloader - INFO - ⏰ Time range: 2025-08-01 00:00:00 to 2025-08-02 00:00:00
2025-08-06 22:45:41,634 - AresTradingSystem.System.OptimizedDataDownloader - INFO - 🔢 Timestamps: 1753999200000 to 1754085600000
2025-08-06 22:45:41,634 - AresTradingSystem.System.OptimizedDataDownloader - INFO - 🔌 Making API call to BINANCE
2025-08-06 22:45:41,634 - AresTradingSystem.System.OptimizedDataDownloader - INFO - 🔄 Starting incremental download from 2025-08-01
2025-08-06 22:45:41,634 - AresTradingSystem.System.OptimizedDataDownloader - INFO - 📞 API call #1: fetching from timestamp 1753999200000
2025-08-06 22:45:41,643 - AresTradingSystem.System - INFO - CCXT: Fetching agg trades for ETHUSDT from 2025-08-01 00:00:00 to 2025-08-02 00:00:00
2025-08-06 22:45:41,644 - AresTradingSystem.System - INFO - CCXT: Using limit 1000 (requested: 1000)
2025-08-06 22:45:41,644 - AresTradingSystem.System.OptimizedDataDownloader - INFO - 📥 Downloading aggtrades for 2025-08-02
2025-08-06 22:45:41,644 - AresTradingSystem.System.OptimizedDataDownloader - INFO - ⏰ Time range: 2025-08-02 00:00:00 to 2025-08-03 00:00:00
2025-08-06 22:45:41,644 - AresTradingSystem.System.OptimizedDataDownloader - INFO - 🔢 Timestamps: 1754085600000 to 1754172000000
2025-08-06 22:45:41,644 - AresTradingSystem.System.OptimizedDataDownloader - INFO - 🔌 Making API call to BINANCE
2025-08-06 22:45:41,644 - AresTradingSystem.System.OptimizedDataDownloader - INFO - 🔄 Starting incremental download from 2025-08-02
2025-08-06 22:45:41,644 - AresTradingSystem.System.OptimizedDataDownloader - INFO - 📞 API call #1: fetching from timestamp 1754085600000
2025-08-06 22:45:41,654 - AresTradingSystem.System - INFO - CCXT: Fetching agg trades for ETHUSDT from 2025-08-02 00:00:00 to 2025-08-03 00:00:00
2025-08-06 22:45:41,654 - AresTradingSystem.System - INFO - CCXT: Using limit 1000 (requested: 1000)
2025-08-06 22:45:42,054 - AresTradingSystem.System - ERROR - HTTP Error 400 for GET /fapi/v1/klines: Bad Request. Response: Could not read response body
2025-08-06 22:45:42,088 - AresTradingSystem.System - INFO - CCXT Debug: First trade timestamp: 1753999200076
2025-08-06 22:45:42,088 - AresTradingSystem.System - INFO - CCXT Debug: Last trade timestamp: 1753999208279
2025-08-06 22:45:42,088 - AresTradingSystem.System - INFO - CCXT Debug: Number of unique timestamps: 280
2025-08-06 22:45:42,090 - AresTradingSystem.System - INFO - CCXT: Retrieved 1000 aggregated trades for ETHUSDT
2025-08-06 22:45:42,092 - AresTradingSystem.System - INFO - CCXT Debug: First trade timestamp: 1753826400041
2025-08-06 22:45:42,092 - AresTradingSystem.System - INFO - CCXT Debug: Last trade timestamp: 1753826470151
2025-08-06 22:45:42,092 - AresTradingSystem.System - INFO - CCXT Debug: Number of unique timestamps: 530
2025-08-06 22:45:42,093 - AresTradingSystem.System - INFO - CCXT: Retrieved 1000 aggregated trades for ETHUSDT
2025-08-06 22:45:42,095 - AresTradingSystem.System - INFO - CCXT Debug: First trade timestamp: 1753912800011
2025-08-06 22:45:42,095 - AresTradingSystem.System - INFO - CCXT Debug: Last trade timestamp: 1753912829178
2025-08-06 22:45:42,095 - AresTradingSystem.System - INFO - CCXT Debug: Number of unique timestamps: 347
2025-08-06 22:45:42,096 - AresTradingSystem.System - INFO - CCXT: Retrieved 1000 aggregated trades for ETHUSDT
2025-08-06 22:45:42,098 - AresTradingSystem.System - INFO - CCXT Debug: First trade timestamp: 1754085600209
2025-08-06 22:45:42,098 - AresTradingSystem.System - INFO - CCXT Debug: Last trade timestamp: 1754085636622
2025-08-06 22:45:42,098 - AresTradingSystem.System - INFO - CCXT Debug: Number of unique timestamps: 434
2025-08-06 22:45:42,098 - AresTradingSystem.System - INFO - CCXT: Retrieved 1000 aggregated trades for ETHUSDT
2025-08-06 22:45:42,351 - AresTradingSystem.System.OptimizedDataDownloader - INFO - 📊 Received 1000 trades in batch #1
2025-08-06 22:45:42,351 - AresTradingSystem.System.OptimizedDataDownloader - ERROR - ❌ Error downloading aggtrades for 2025-08-01: can only concatenate str (not "int") to str
2025-08-06 22:45:42,353 - AresTradingSystem.System.OptimizedDataDownloader - INFO - 📊 Received 1000 trades in batch #1
2025-08-06 22:45:42,353 - AresTradingSystem.System.OptimizedDataDownloader - ERROR - ❌ Error downloading aggtrades for 2025-07-30: can only concatenate str (not "int") to str
2025-08-06 22:45:42,355 - AresTradingSystem.System.OptimizedDataDownloader - INFO - 📊 Received 1000 trades in batch #1
2025-08-06 22:45:42,355 - AresTradingSystem.System.OptimizedDataDownloader - ERROR - ❌ Error downloading aggtrades for 2025-07-31: can only concatenate str (not "int") to str
2025-08-06 22:45:42,356 - AresTradingSystem.System.OptimizedDataDownloader - INFO - 📊 Received 1000 trades in batch #1
2025-08-06 22:45:42,356 - AresTradingSystem.System.OptimizedDataDownloader - ERROR - ❌ Error downloading aggtrades for 2025-08-02: can only concatenate str (not "int") to str
2025-08-06 22:45:42,356 - AresTradingSystem.System.OptimizedDataDownloader - INFO - 📥 Downloading aggtrades for 2025-08-03
2025-08-06 22:45:42,356 - AresTradingSystem.System.OptimizedDataDownloader - INFO - ⏰ Time range: 2025-08-03 00:00:00 to 2025-08-04 00:00:00
2025-08-06 22:45:42,356 - AresTradingSystem.System.OptimizedDataDownloader - INFO - 🔢 Timestamps: 1754172000000 to 1754258400000
2025-08-06 22:45:42,357 - AresTradingSystem.System.OptimizedDataDownloader - INFO - 🔌 Making API call to BINANCE
2025-08-06 22:45:42,357 - AresTradingSystem.System.OptimizedDataDownloader - INFO - 🔄 Starting incremental download from 2025-08-03
2025-08-06 22:45:42,357 - AresTradingSystem.System.OptimizedDataDownloader - INFO - 📞 API call #1: fetching from timestamp 1754172000000
2025-08-06 22:45:42,366 - AresTradingSystem.System - INFO - CCXT: Fetching agg trades for ETHUSDT from 2025-08-03 00:00:00 to 2025-08-04 00:00:00
2025-08-06 22:45:42,366 - AresTradingSystem.System - INFO - CCXT: Using limit 1000 (requested: 1000)
2025-08-06 22:45:42,367 - AresTradingSystem.System.OptimizedDataDownloader - INFO - 📥 Downloading aggtrades for 2025-08-04
2025-08-06 22:45:42,367 - AresTradingSystem.System.OptimizedDataDownloader - INFO - ⏰ Time range: 2025-08-04 00:00:00 to 2025-08-05 00:00:00
2025-08-06 22:45:42,367 - AresTradingSystem.System.OptimizedDataDownloader - INFO - 🔢 Timestamps: 1754258400000 to 1754344800000
2025-08-06 22:45:42,367 - AresTradingSystem.System.OptimizedDataDownloader - INFO - 🔌 Making API call to BINANCE
2025-08-06 22:45:42,367 - AresTradingSystem.System.OptimizedDataDownloader - INFO - 🔄 Starting incremental download from 2025-08-04
2025-08-06 22:45:42,367 - AresTradingSystem.System.OptimizedDataDownloader - INFO - 📞 API call #1: fetching from timestamp 1754258400000
2025-08-06 22:45:42,376 - AresTradingSystem.System - INFO - CCXT: Fetching agg trades for ETHUSDT from 2025-08-04 00:00:00 to 2025-08-05 00:00:00
2025-08-06 22:45:42,377 - AresTradingSystem.System - INFO - CCXT: Using limit 1000 (requested: 1000)
2025-08-06 22:45:42,377 - AresTradingSystem.System.OptimizedDataDownloader - INFO - 📥 Downloading aggtrades for 2025-08-05
2025-08-06 22:45:42,377 - AresTradingSystem.System.OptimizedDataDownloader - INFO - ⏰ Time range: 2025-08-05 00:00:00 to 2025-08-06 00:00:00
2025-08-06 22:45:42,377 - AresTradingSystem.System.OptimizedDataDownloader - INFO - 🔢 Timestamps: 1754344800000 to 1754431200000
2025-08-06 22:45:42,377 - AresTradingSystem.System.OptimizedDataDownloader - INFO - 🔌 Making API call to BINANCE
2025-08-06 22:45:42,377 - AresTradingSystem.System.OptimizedDataDownloader - INFO - 🔄 Starting incremental download from 2025-08-05
2025-08-06 22:45:42,377 - AresTradingSystem.System.OptimizedDataDownloader - INFO - 📞 API call #1: fetching from timestamp 1754344800000
2025-08-06 22:45:42,386 - AresTradingSystem.System - INFO - CCXT: Fetching agg trades for ETHUSDT from 2025-08-05 00:00:00 to 2025-08-06 00:00:00
2025-08-06 22:45:42,386 - AresTradingSystem.System - INFO - CCXT: Using limit 1000 (requested: 1000)
2025-08-06 22:45:42,386 - AresTradingSystem.System.OptimizedDataDownloader - INFO - 📥 Downloading aggtrades for 2025-08-06
2025-08-06 22:45:42,386 - AresTradingSystem.System.OptimizedDataDownloader - INFO - ⏰ Time range: 2025-08-06 00:00:00 to 2025-08-06 22:45:41.566900
2025-08-06 22:45:42,386 - AresTradingSystem.System.OptimizedDataDownloader - INFO - 🔢 Timestamps: 1754431200000 to 1754513141566
2025-08-06 22:45:42,386 - AresTradingSystem.System.OptimizedDataDownloader - INFO - 🔌 Making API call to BINANCE
2025-08-06 22:45:42,386 - AresTradingSystem.System.OptimizedDataDownloader - INFO - 🔄 Starting incremental download from 2025-08-06
2025-08-06 22:45:42,387 - AresTradingSystem.System.OptimizedDataDownloader - INFO - 📞 API call #1: fetching from timestamp 1754431200000
2025-08-06 22:45:42,396 - AresTradingSystem.System - INFO - CCXT: Adjusted end time to avoid recent data issues: 2025-08-06 22:40:42.396000
2025-08-06 22:45:42,396 - AresTradingSystem.System - INFO - CCXT: Fetching agg trades for ETHUSDT from 2025-08-06 00:00:00 to 2025-08-06 22:40:42.396000
2025-08-06 22:45:42,396 - AresTradingSystem.System - INFO - CCXT: Using limit 1000 (requested: 1000)
2025-08-06 22:45:42,790 - AresTradingSystem.System - INFO - CCXT Debug: First trade timestamp: 1754172000165
2025-08-06 22:45:42,790 - AresTradingSystem.System - INFO - CCXT Debug: Last trade timestamp: 1754172052412
2025-08-06 22:45:42,790 - AresTradingSystem.System - INFO - CCXT Debug: Number of unique timestamps: 480
2025-08-06 22:45:42,791 - AresTradingSystem.System - INFO - CCXT: Retrieved 1000 aggregated trades for ETHUSDT
2025-08-06 22:45:42,804 - AresTradingSystem.System - INFO - CCXT Debug: First trade timestamp: 1754431200113
2025-08-06 22:45:42,804 - AresTradingSystem.System - INFO - CCXT Debug: Last trade timestamp: 1754431232830
2025-08-06 22:45:42,805 - AresTradingSystem.System - INFO - CCXT Debug: Number of unique timestamps: 336
2025-08-06 22:45:42,805 - AresTradingSystem.System - INFO - CCXT: Retrieved 1000 aggregated trades for ETHUSDT
2025-08-06 22:45:42,820 - AresTradingSystem.System - INFO - CCXT Debug: First trade timestamp: 1754258400137
2025-08-06 22:45:42,820 - AresTradingSystem.System - INFO - CCXT Debug: Last trade timestamp: 1754258449341
2025-08-06 22:45:42,821 - AresTradingSystem.System - INFO - CCXT Debug: Number of unique timestamps: 464
2025-08-06 22:45:42,822 - AresTradingSystem.System - INFO - CCXT: Retrieved 1000 aggregated trades for ETHUSDT
2025-08-06 22:45:43,099 - AresTradingSystem.System - INFO - CCXT Debug: First trade timestamp: 1754344800012
2025-08-06 22:45:43,099 - AresTradingSystem.System - INFO - CCXT Debug: Last trade timestamp: 1754344807528
2025-08-06 22:45:43,099 - AresTradingSystem.System - INFO - CCXT Debug: Number of unique timestamps: 332
2025-08-06 22:45:43,100 - AresTradingSystem.System - INFO - CCXT: Retrieved 1000 aggregated trades for ETHUSDT
2025-08-06 22:45:43,102 - AresTradingSystem.System.OptimizedDataDownloader - INFO - 📊 Received 1000 trades in batch #1
2025-08-06 22:45:43,102 - AresTradingSystem.System.OptimizedDataDownloader - ERROR - ❌ Error downloading aggtrades for 2025-08-03: can only concatenate str (not "int") to str
2025-08-06 22:45:43,103 - AresTradingSystem.System.OptimizedDataDownloader - INFO - 📊 Received 1000 trades in batch #1
2025-08-06 22:45:43,104 - AresTradingSystem.System.OptimizedDataDownloader - ERROR - ❌ Error downloading aggtrades for 2025-08-06: can only concatenate str (not "int") to str
2025-08-06 22:45:43,106 - AresTradingSystem.System.OptimizedDataDownloader - INFO - 📊 Received 1000 trades in batch #1
2025-08-06 22:45:43,106 - AresTradingSystem.System.OptimizedDataDownloader - ERROR - ❌ Error downloading aggtrades for 2025-08-04: can only concatenate str (not "int") to str
2025-08-06 22:45:43,106 - AresTradingSystem.System.OptimizedDataDownloader - INFO - 📥 Downloading futures for 2025-08
2025-08-06 22:45:43,106 - AresTradingSystem.System.OptimizedDataDownloader - INFO - ⏰ Time range: 2025-08-01 00:00:00 to 2025-08-06 22:45:41.595974
2025-08-06 22:45:43,107 - AresTradingSystem.System.OptimizedDataDownloader - INFO - 🔢 Timestamps: 1753999200000 to 1754513141595
2025-08-06 22:45:43,107 - AresTradingSystem.System.OptimizedDataDownloader - INFO - 🔌 Making API call to BINANCE
2025-08-06 22:45:43,107 - AresTradingSystem.System - INFO - Futures: Adjusted end time to avoid recent data issues: 2025-08-06 22:40:43.107000
2025-08-06 22:45:43,107 - AresTradingSystem.System - INFO - Futures: Fetching data for ETHUSDT from 2025-08-01 00:00:00 to 2025-08-06 22:40:43.107000
2025-08-06 22:45:43,357 - AresTradingSystem.System - ERROR - HTTP Error 400 for GET /fapi/v1/klines: Bad Request. Response: Could not read response body
2025-08-06 22:45:43,359 - AresTradingSystem.System.OptimizedDataDownloader - INFO - 📊 Received 1000 trades in batch #1
2025-08-06 22:45:43,359 - AresTradingSystem.System.OptimizedDataDownloader - ERROR - ❌ Error downloading aggtrades for 2025-08-05: can only concatenate str (not "int") to str
2025-08-06 22:45:43,359 - AresTradingSystem.System.OptimizedDataDownloader - INFO - 📊 Processing results...
2025-08-06 22:45:43,359 - AresTradingSystem.System.OptimizedDataDownloader - INFO - ✅ STEP 3B COMPLETED: Aggtrades download finished - 0/8 periods successful, 0 errors
2025-08-06 22:45:43,359 - AresTradingSystem.System.OptimizedDataDownloader - INFO - 📁 CSV Files: 0 daily aggtrades files created
2025-08-06 22:45:43,817 - AresTradingSystem.System.OptimizedDataDownloader - INFO - 📊 Received 1 futures records
2025-08-06 22:45:43,817 - AresTradingSystem.System.OptimizedDataDownloader - INFO - 🔄 Processing data...
2025-08-06 22:45:43,818 - AresTradingSystem.System.OptimizedDataDownloader - INFO - 💾 Creating new CSV file: futures_BINANCE_ETHUSDT_2025-08.csv
2025-08-06 22:45:43,819 - AresTradingSystem.System.OptimizedDataDownloader - INFO - 📁 File path: data_cache/futures_BINANCE_ETHUSDT_2025-08.csv
2025-08-06 22:45:43,819 - AresTradingSystem.System.OptimizedDataDownloader - INFO - 📊 Data shape: (18, 1)
2025-08-06 22:45:43,819 - AresTradingSystem.System.OptimizedDataDownloader - INFO - 📈 Records: 18 futures records
2025-08-06 22:45:43,822 - AresTradingSystem.System.OptimizedDataDownloader - INFO - ✅ NEW CSV FILE CREATED: futures_BINANCE_ETHUSDT_2025-08.csv - 2,049 bytes, 18 futures records
2025-08-06 22:45:43,822 - AresTradingSystem.System.OptimizedDataDownloader - INFO - 📊 Processing results...
2025-08-06 22:45:43,822 - AresTradingSystem.System.OptimizedDataDownloader - INFO - ✅ Task 1 completed successfully
2025-08-06 22:45:43,823 - AresTradingSystem.System.OptimizedDataDownloader - INFO - ✅ STEP 3C COMPLETED: Futures download finished - 1/1 periods successful, 0 errors
2025-08-06 22:45:43,823 - AresTradingSystem.System.OptimizedDataDownloader - INFO - 📁 CSV Files: 1 daily futures files created
2025-08-06 22:45:45,617 - AresTradingSystem.System - ERROR - HTTP Error 400 for GET /fapi/v1/klines: Bad Request. Response: Could not read response body
2025-08-06 22:45:49,872 - AresTradingSystem.System - ERROR - HTTP Error 400 for GET /fapi/v1/klines: Bad Request. Response: Could not read response body
2025-08-06 22:45:58,131 - AresTradingSystem.System - ERROR - HTTP Error 400 for GET /fapi/v1/klines: Bad Request. Response: Could not read response body
2025-08-06 22:46:14,710 - AresTradingSystem.System - ERROR - HTTP Error 400 for GET /fapi/v1/klines: Bad Request. Response: Could not read response body
2025-08-06 22:46:14,710 - AresTradingSystem.System - ERROR - Max retries (5) reached. Returning default value.
Traceback (most recent call last):
  File "/Users/remyroche/Documents/Ares/src/utils/error_handler.py", line 988, in _execute_with_retries
    print(f"SUCCESS: {func_name} completed")
                     ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/remyroche/Documents/Ares/exchange/binance.py", line 319, in _request
    response.raise_for_status()
  File "/opt/homebrew/Caskroom/miniforge/base/lib/python3.12/site-packages/aiohttp/client_reqrep.py", line 629, in raise_for_status
    raise ClientResponseError(
aiohttp.client_exceptions.ClientResponseError: 400, message='Bad Request', url='https://fapi.binance.com/fapi/v1/klines?symbol=ETHUSDT&interval=1m&startTime=1753999200000&endTime=1754512841597&limit=5000'
2025-08-06 22:46:14,712 - AresTradingSystem.System.OptimizedDataDownloader - INFO - 📊 Received 0 klines
2025-08-06 22:46:14,712 - AresTradingSystem.System.OptimizedDataDownloader - WARNING - ⚠️ No klines received for 2025-08
2025-08-06 22:46:14,712 - AresTradingSystem.System.OptimizedDataDownloader - INFO - 📊 Processing results...
2025-08-06 22:46:14,712 - AresTradingSystem.System.OptimizedDataDownloader - INFO - ✅ STEP 3 COMPLETED: Klines download finished - 0/1 periods successful, 0 errors
2025-08-06 22:46:14,712 - AresTradingSystem.System.OptimizedDataDownloader - INFO - 📁 CSV Files: 0 monthly klines files created
2025-08-06 22:46:14,712 - AresTradingSystem.System.OptimizedDataDownloader - INFO - 📊 Processing final results...
2025-08-06 22:46:14,712 - AresTradingSystem.System.OptimizedDataDownloader - INFO - ✅ Futures download completed successfully
2025-08-06 22:46:14,712 - AresTradingSystem.System.OptimizedDataDownloader - INFO - 🎉 OPTIMIZED DOWNLOAD PROCESS COMPLETED
2025-08-06 22:46:14,712 - AresTradingSystem.System.OptimizedDataDownloader - INFO - 📊 FINAL STATISTICS:
2025-08-06 22:46:14,712 - AresTradingSystem.System.OptimizedDataDownloader - INFO -    ✅ Successful downloads: 1/3
2025-08-06 22:46:14,712 - AresTradingSystem.System.OptimizedDataDownloader - INFO -    ❌ Failed downloads: 0/3
2025-08-06 22:46:14,712 - AresTradingSystem.System.OptimizedDataDownloader - INFO -    ⏱️ Total time: 33.15 seconds
2025-08-06 22:46:14,713 - AresTradingSystem.System.OptimizedDataDownloader - INFO -    📈 Klines files downloaded: 0
2025-08-06 22:46:14,713 - AresTradingSystem.System.OptimizedDataDownloader - INFO -    📊 Aggtrades files downloaded: 0
2025-08-06 22:46:14,713 - AresTradingSystem.System.OptimizedDataDownloader - INFO -    📈 Futures files downloaded: 1
2025-08-06 22:46:14,713 - AresTradingSystem.System.OptimizedDataDownloader - INFO -    ❌ Total errors: 0
2025-08-06 22:46:14,713 - AresTradingSystem.System.OptimizedDataDownloader - INFO - 📁 CSV FILES CREATED: 1 total files
2025-08-06 22:46:14,713 - AresTradingSystem.System.OptimizedDataDownloader - INFO -    📈 Monthly klines files: 0
2025-08-06 22:46:14,713 - AresTradingSystem.System.OptimizedDataDownloader - INFO -    📊 Daily aggtrades files: 0
2025-08-06 22:46:14,713 - AresTradingSystem.System.OptimizedDataDownloader - INFO -    📈 Daily futures files: 1
2025-08-06 22:46:14,713 - AresTradingSystem.System.OptimizedDataDownloader - INFO - 🧹 Cleaning up resources...
2025-08-06 22:46:14,715 - AresTradingSystem.System - INFO - HTTP session closed.
2025-08-06 22:46:14,715 - AresTradingSystem.System.OptimizedDataDownloader - INFO - ✅ Cleanup completed
2025-08-06 22:46:14,715 - AresTradingSystem.System.OptimizedDataDownloader - INFO - ✅ Optimized download completed successfully
