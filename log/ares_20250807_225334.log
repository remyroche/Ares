2025-08-07 22:53:34,923 - AresTradingSystem - INFO - ‚úÖ Enhanced Logger initialization completed successfully
2025-08-07 22:53:35,014 - AresTradingSystem.System - INFO - Using device: MPS for PyTorch operations.
2025-08-07 22:53:35,014 - AresTradingSystem.System - INFO - Initializing Analyst Enhancement Step...
2025-08-07 22:53:35,014 - AresTradingSystem.System - INFO - Analyst Enhancement Step initialized successfully.
2025-08-07 22:53:35,014 - AresTradingSystem.System - INFO - üîÑ Executing Analyst Enhancement...
2025-08-07 22:53:35,015 - AresTradingSystem.System - INFO - --- Enhancing models for regime: bull_trend ---
2025-08-07 22:53:35,015 - AresTradingSystem.System - INFO - Loading data for regime 'bull_trend'...
2025-08-07 22:53:35,016 - AresTradingSystem.System - INFO - Data loaded and split: X_train shape (800, 20), X_val shape (200, 20)
2025-08-07 22:53:35,016 - AresTradingSystem.System - INFO - Enhancing svm for bull_trend...
2025-08-07 22:53:35,016 - AresTradingSystem.System - INFO - Original model accuracy: 0.75
2025-08-07 22:53:35,016 - AresTradingSystem.System - INFO - Running Optuna HPO with pruning for svm...
2025-08-07 22:53:37,766 - AresTradingSystem.System - INFO - HPO complete. Best score: 0.9750
2025-08-07 22:53:37,800 - AresTradingSystem.System - INFO - Selecting optimal features using SHAP...
2025-08-07 22:53:44,700 - AresTradingSystem.System - INFO - Selected 2 optimal features using SHAP (from 20 total)
2025-08-07 22:53:44,701 - AresTradingSystem.System - INFO - Retraining final model with 2 optimal features...
2025-08-07 22:53:44,713 - AresTradingSystem.System - INFO - Enhanced model accuracy: 0.9600
2025-08-07 22:53:44,715 - AresTradingSystem.System - INFO - ‚úÖ Analyst enhancement completed in 9.70s. Results saved to /var/folders/dr/hz7y0z9j0x39z7519pbshgqh0000gn/T/tmp5a0qk8j6/enhanced_analyst_models
2025-08-07 22:53:44,783 - AresTradingSystem.System - INFO - Using device: MPS for PyTorch operations.
2025-08-07 22:53:44,783 - AresTradingSystem.System - INFO - Initializing Analyst Enhancement Step...
2025-08-07 22:53:44,783 - AresTradingSystem.System - INFO - Analyst Enhancement Step initialized successfully.
2025-08-07 22:53:44,783 - AresTradingSystem.System - INFO - üîÑ Executing Analyst Enhancement...
2025-08-07 22:53:44,784 - AresTradingSystem.System - INFO - --- Enhancing models for regime: bull_trend ---
2025-08-07 22:53:44,785 - AresTradingSystem.System - INFO - Loading data for regime 'bull_trend'...
2025-08-07 22:53:44,785 - AresTradingSystem.System - INFO - Data loaded and split: X_train shape (400, 10), X_val shape (100, 10)
2025-08-07 22:53:44,785 - AresTradingSystem.System - INFO - Enhancing xgboost for bull_trend...
2025-08-07 22:53:44,785 - AresTradingSystem.System - INFO - Original model accuracy: 0.75
2025-08-07 22:53:44,785 - AresTradingSystem.System - INFO - Running Optuna HPO with pruning for xgboost...
2025-08-07 22:55:12,075 - AresTradingSystem.System - INFO - HPO complete. Best score: 0.9600
2025-08-07 22:55:12,657 - AresTradingSystem.System - INFO - Selecting optimal features using SHAP...
2025-08-07 22:55:16,595 - AresTradingSystem.System - WARNING - TreeExplainer failed for xgboost: Your currently installed version of Keras is Keras 3, but this is not yet supported in Transformers. Please install the backwards-compatible tf-keras package with `pip install tf-keras`.. Using uniform feature importance.
2025-08-07 22:55:16,596 - AresTradingSystem.System - INFO - Few features available (10), keeping all features
2025-08-07 22:55:16,596 - AresTradingSystem.System - INFO - Selected 10 optimal features using SHAP (from 10 total)
2025-08-07 22:55:16,597 - AresTradingSystem.System - INFO - Retraining final model with 10 optimal features...
2025-08-07 22:55:17,089 - AresTradingSystem.System - INFO - Enhanced model accuracy: 0.9500
2025-08-07 22:55:17,090 - AresTradingSystem.System - INFO - Enhancing svm for bull_trend...
2025-08-07 22:55:17,090 - AresTradingSystem.System - INFO - Original model accuracy: 0.75
2025-08-07 22:55:17,090 - AresTradingSystem.System - INFO - Running Optuna HPO with pruning for svm...
2025-08-07 22:55:17,871 - AresTradingSystem.System - INFO - HPO complete. Best score: 0.9900
2025-08-07 22:55:17,896 - AresTradingSystem.System - INFO - Selecting optimal features using SHAP...
2025-08-07 22:55:19,309 - AresTradingSystem.System - INFO - Few features available (10), keeping all features
2025-08-07 22:55:19,309 - AresTradingSystem.System - INFO - Selected 10 optimal features using SHAP (from 10 total)
2025-08-07 22:55:19,309 - AresTradingSystem.System - INFO - Retraining final model with 10 optimal features...
2025-08-07 22:55:19,332 - AresTradingSystem.System - INFO - Enhanced model accuracy: 0.9900
2025-08-07 22:55:19,333 - AresTradingSystem.System - INFO - Enhancing lightgbm for bull_trend...
2025-08-07 22:55:19,333 - AresTradingSystem.System - INFO - Original model accuracy: 0.75
2025-08-07 22:55:19,333 - AresTradingSystem.System - INFO - Running Optuna HPO with pruning for lightgbm...
2025-08-07 22:55:19,347 - AresTradingSystem.System - ERROR - ‚ùå Error in Analyst Enhancement after 94.56s: LGBMClassifier.fit() got an unexpected keyword argument 'verbose'
Traceback (most recent call last):
  File "/Users/remyroche/Documents/Ares/src/training/steps/step6_analyst_enhancement.py", line 105, in execute
    enhanced_model_package = await self._enhance_single_model(
                             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/Users/remyroche/Documents/Ares/src/training/steps/step6_analyst_enhancement.py", line 225, in _enhance_single_model
    if proxy_column != 'label':
                 ^^^^^^^^^^^^^^
  File "/Users/remyroche/Documents/Ares/src/training/steps/step6_analyst_enhancement.py", line 436, in _apply_hyperparameter_optimization
  File "/opt/homebrew/Caskroom/miniforge/base/lib/python3.12/asyncio/threads.py", line 25, in to_thread
    return await loop.run_in_executor(None, func_call)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Caskroom/miniforge/base/lib/python3.12/concurrent/futures/thread.py", line 59, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Caskroom/miniforge/base/lib/python3.12/site-packages/optuna/study/study.py", line 489, in optimize
    _optimize(
  File "/opt/homebrew/Caskroom/miniforge/base/lib/python3.12/site-packages/optuna/study/_optimize.py", line 101, in _optimize
    f.result()
  File "/opt/homebrew/Caskroom/miniforge/base/lib/python3.12/concurrent/futures/_base.py", line 449, in result
    return self.__get_result()
           ^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Caskroom/miniforge/base/lib/python3.12/concurrent/futures/_base.py", line 401, in __get_result
    raise self._exception
  File "/opt/homebrew/Caskroom/miniforge/base/lib/python3.12/concurrent/futures/thread.py", line 59, in run
    result = self.fn(*self.args, **self.kwargs)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Caskroom/miniforge/base/lib/python3.12/site-packages/optuna/study/_optimize.py", line 161, in _optimize_sequential
    frozen_trial = _run_trial(study, func, catch)
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/opt/homebrew/Caskroom/miniforge/base/lib/python3.12/site-packages/optuna/study/_optimize.py", line 253, in _run_trial
    raise func_err
  File "/opt/homebrew/Caskroom/miniforge/base/lib/python3.12/site-packages/optuna/study/_optimize.py", line 201, in _run_trial
    value_or_values = func(trial)
                      ^^^^^^^^^^^
  File "/Users/remyroche/Documents/Ares/src/training/steps/step6_analyst_enhancement.py", line 400, in objective
    },
       
TypeError: LGBMClassifier.fit() got an unexpected keyword argument 'verbose'
